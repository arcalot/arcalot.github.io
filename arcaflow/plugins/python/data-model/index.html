
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://arcalot.io/arcaflow/plugins/python/data-model/">
      
      
        <link rel="prev" href="../first/">
      
      
        <link rel="next" href="../embedding/">
      
      
      <link rel="icon" href="../../../../arcalot.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.4">
    
    
      
        <title>Creating the plugin schema - Arcalot</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.bd3936ea.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../../extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-a-python-data-model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Arcalot" class="md-header__button md-logo" aria-label="Arcalot" data-md-component="logo">
      
  <img src="../../../../arcalot.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arcalot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating the plugin schema
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/arcalot/arcalot.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    arcalot/arcalot.github.io
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../arcalog/" class="md-tabs__link">
        
  
    
  
  Arcalog

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
    
  
  Arcaflow

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Arcalot" class="md-nav__button md-logo" aria-label="Arcalot" data-md-component="logo">
      
  <img src="../../../../arcalot.svg" alt="logo">

    </a>
    Arcalot
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/arcalot/arcalot.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    arcalot/arcalot.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../../arcalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arcalog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Arcaflow
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Arcaflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/typing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Typing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflows
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../running/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Running Arcaflow
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Running Arcaflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../running/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up Arcaflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../running/running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running a workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Creating plugins
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Creating plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Your first plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Creating the plugin schema
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Creating the plugin schema
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#optional-parameters" class="md-nav__link">
    Optional parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotations-for-validation-and-metadata" class="md-nav__link">
    Annotations for validation and metadata
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types" class="md-nav__link">
    Data types
  </a>
  
    <nav class="md-nav" aria-label="Data types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strings" class="md-nav__link">
    Strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integers" class="md-nav__link">
    Integers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floating-point-numbers" class="md-nav__link">
    Floating point numbers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#booleans" class="md-nav__link">
    Booleans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums" class="md-nav__link">
    Enums
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patterns" class="md-nav__link">
    Patterns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lists" class="md-nav__link">
    Lists
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts" class="md-nav__link">
    Dicts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-types" class="md-nav__link">
    Union types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any-types" class="md-nav__link">
    Any types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#units" class="md-nav__link">
    Units
  </a>
  
    <nav class="md-nav" aria-label="Units">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-units" class="md-nav__link">
    Built-In Units
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../embedding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedding your plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing your plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently asked questions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a schema by hand
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../official/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing official plugins
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../go/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Go
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_4" id="__nav_3_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_4">
            <span class="md-nav__icon md-icon"></span>
            Go
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../go/first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Your first plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../go/schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a schema
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../packaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packaging plugins
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../workflows/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Writing workflows
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Writing workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating your input schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up a step
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/flow-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flow Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflows/output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Outputs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../contributing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/typing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Typing system
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/plugin-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arcaflow Transport Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expression language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/deployers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engine
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="creating-a-python-data-model">Creating a Python data model</h1>
<p>Every plugin needs a schema to represent its expected inputs and outputs in a machine-readable format. The schema <a href="/arcaflow/concepts/typing">strong typing</a> is a core design element of Arcaflow, enabling us to build portable workflows that compartmentalize failure conditions and avoid data errors.</p>
<p>When creating a data model for Arcaflow plugins in Python, everything starts with <a href="https://docs.python.org/3/library/dataclasses.html">dataclasses</a>. They allow Arcaflow to get information about the data types of individual fields in your class:</p>
<div class="highlight"><span class="filename">plugin.py</span><pre><span></span><code><span class="kn">import</span> <span class="nn">dataclasses</span>


<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MyDataModel</span><span class="p">:</span>
    <span class="n">some_field</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">other_field</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
<p>However, Arcaflow doesn&rsquo;t support all Python data types. You pick from the following list:</p>
<ul>
<li><a href="#strings"><code>str</code></a></li>
<li><a href="#integers"><code>int</code></a></li>
<li><a href="#floating-point-numbers"><code>float</code></a></li>
<li><a href="#booleans"><code>bool</code></a></li>
<li><a href="#enums">Enums</a></li>
<li><a href="#patterns"><code>re.Pattern</code></a></li>
<li><a href="#lists"><code>typing.List[othertype]</code></a></li>
<li><a href="#dicts"><code>typing.Dict[keytype, valuetype]</code></a></li>
<li><a href="#union-types"><code>typing.Union[onedataclass, anotherdataclass]</code></a></li>
<li>Dataclasses</li>
<li><a href="#any-types"><code>typing.Any</code></a></li>
</ul>
<p>You can read more about the individual types in the <a href="#data-types">data types</a> section</p>
<h2 id="optional-parameters">Optional parameters</h2>
<p>You can also declare any parameter as optional like this:</p>
<div class="highlight"><span class="filename">plugin.py</span><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">param</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Note that adding <code>typing.Optional</code> is not enough, you <em>must</em> specify the default value.</p>
<h2 id="annotations-for-validation-and-metadata">Annotations for validation and metadata</h2>
<p>You can specify desired validations for each field like this:</p>
<div class="highlight"><span class="filename">plugin.py</span><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">param</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">schema</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;Param&quot;</span><span class="p">)]</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Annotated objects are preferred as a best practice for a documented schema, and are expected for any <a href="/arcaflow/plugins/python/official/">officially-supported community plugins</a>.</p>
</div>
<p>You can use the following annotations to add metadata to your fields:</p>
<ul>
<li><code>schema.id</code> adds a serialized field name for the current field (e.g. one containing dashes, which is not valid in Python)</li>
<li><code>schema.name</code> adds a human-readable name to the parameter. This can be used to present a form field.</li>
<li><code>schema.description</code> adds a long-form description to the field.</li>
<li><code>schema.example</code> adds an example value to the field. You can repeat this annotation multiple times. The example must be provided as primitive types (no dataclasses).</li>
</ul>
<p>You can also add validations to the fields. The following annotations are valid for all data types:</p>
<ul>
<li><code>schema.required_if</code> specifies a field that causes the current field to be required. If the other field is empty, the current field is not required. You can repeat this annotation multiple times. (Make sure to use the optional annotation above.)</li>
<li><code>schema.required_if_not</code> specifies a field that, if not filled, causes the current field to be required. You can repeat this annotation multiple times.(Make sure to use the optional annotation above.)</li>
<li><code>schema.conflicts</code> specifies a field that cannot be used together with the current field. You can repeat this annotation multiple times. (Make sure to use the optional annotation above.)</li>
</ul>
<p>Additionally, some data types have their own validations and metadata, such as <code>schema.min</code>, <code>schema.max</code>, <code>schema.pattern</code>, or <code>schema.units</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When combining <code>typing.Annotated</code> with <code>typing.Optional</code>, the default value is assigned to the <code>Annotated</code> object, <strong>not</strong> to the <code>Optional</code> object.</p>
<div class="highlight"><span class="filename">plugin.py</span><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">param</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;Param&quot;</span><span class="p">)</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
</div>
<h2 id="data-types">Data types</h2>
<h3 id="strings">Strings</h3>
<p>Strings are, as the name suggests, strings of human-readable characters. You can specify them in your dataclass like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">some_field</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<p>Additionally, you can apply the following validations:</p>
<ul>
<li><code>schema.min()</code> specifies the minimum length of the string if the field is set.</li>
<li><code>schema.max()</code> specifies the maximum length of the string if the field is set.</li>
<li><code>schema.pattern()</code> specifies the regular expression the string must match if the field is set.</li>
</ul>
<h3 id="integers">Integers</h3>
<p>Integers are 64-bit signed whole numbers. You can specify them in your dataclass like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">some_field</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
<p>Additionally, you can apply the following validations and metadata:</p>
<ul>
<li><code>schema.min()</code> specifies the minimum number if the field is set.</li>
<li><code>schema.max()</code> specifies the maximum number if the field is set.</li>
<li><code>schema.units()</code> specifies the units for this field (e.g. bytes). See <a href="#units">Units</a>.</li>
</ul>
<h3 id="floating-point-numbers">Floating point numbers</h3>
<p>Floating point numbers are 64-bit signed fractions. You can specify them in your dataclass like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">some_field</span><span class="p">:</span> <span class="nb">float</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Floating point numbers are inaccurate! Make sure to transmit numbers requiring accuracy as integers!</p>
</div>
<p>Additionally, you can apply the following validations and metadata:</p>
<ul>
<li><code>schema.min()</code> specifies the minimum number if the field is set.</li>
<li><code>schema.max()</code> specifies the maximum number if the field is set.</li>
<li><code>schema.units()</code> specifies the units for this field (e.g. bytes). See <a href="#units">Units</a>.</li>
</ul>
<h3 id="booleans">Booleans</h3>
<p>Booleans are <code>True</code> or <code>False</code> values. You can specify them in your dataclass like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">some_field</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Booleans have no additional validations or metadata.</p>
<h3 id="enums">Enums</h3>
<p>Enums, short for enumerations, are used to define a set of named values as unique constants. They provide a way to represent a fixed number of possible values for a variable, parameter, or property. In Python, an enum is declared as a class, but doesn&rsquo;t behave as a normal class. Instead, the &ldquo;attributes&rdquo; of the class act as independent &ldquo;member&rdquo; or &ldquo;enumeration member&rdquo; objects, each of which has a name and a constant value.</p>
<p>By using enums, you can give meaningful names to distinct values, making the code more self-explanatory and providing a convenient way to work with sets of related constants.</p>
<p>In an Arcaflow schema, an Enum type provides a list of valid values for a field. The Enum must define a set of members with unique values, all of which are either strings or integers.</p>
<p>You can specify an enum with string values like this:</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">enum</span>


<span class="k">class</span> <span class="nc">MyEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
  <span class="n">Value1</span> <span class="o">=</span> <span class="s2">&quot;value 1&quot;</span>
  <span class="n">Value2</span> <span class="o">=</span> <span class="s2">&quot;value 2&quot;</span>

<span class="n">my_field</span><span class="p">:</span> <span class="n">MyEnum</span>
</code></pre></div>
The MyEnum class above defines two members, Value1 and Value2. Each member is associated with a constant value, in this case, the strings &ldquo;value 1&rdquo; and &ldquo;value 2&rdquo; respectively. An input value of &ldquo;value 1&rdquo; will result in the plugin seeing a value for <code>my_field</code> of MyEnum.Value1.</p>
<p>You can specify an Enum class with integer values like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">enum</span>

<span class="k">class</span> <span class="nc">MyEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">Value1</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">Value2</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">my_field</span><span class="p">:</span> <span class="n">MyEnum</span>
</code></pre></div>
<p>The <code>my_field</code> variable is a variable of type MyEnum. It can store one of the defined enumeration members (Value1 or Value2). An input value of 1 in this case will result in the plugin receiving a value for <code>my_field</code> of MyEnum.Value1.</p>
<p><div class="highlight"><pre><span></span><code>     <span class="n">value</span> <span class="o">=</span> <span class="n">MyEnum</span><span class="o">.</span><span class="n">Value1</span>
</code></pre></div>
In the above example, the Value1 member of MyEnum is accessed and assigned to the variable value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enumeration members are &ldquo;singleton&rdquo; objects, which have a single instance. In Python you should compare enumeration members using <code>is</code> rather than <code>==</code> (for example, <code>variable is MyEnum.Value1</code>). The values of an Enum used in an Arcaflow schema must have values of string or integer data type.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Enums aren&rsquo;t dataclasses, but can be used as the type of dataclass attributes.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not mix integers and strings in the same enum! The values for each Enum type must all be strings, or all integers.</p>
</div>
<h3 id="patterns">Patterns</h3>
<p>When you need to hold regular expressions, you can use a pattern field. This is tied to the <a href="https://docs.python.org/3/library/re.html">Python regular expressions library</a>. You can specify a pattern field like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">my_field</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span>
</code></pre></div>
<p>Pattern fields have no additional validations or metadata.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are looking for a way to do pattern/regex matching for a string you will need to use the schema.pattern() validation which specifies the regular expression, to which the string must match.</p>
<p>The below example declares that the first_name variable must only have uppercase and lowercase alphabets.</p>
<div class="highlight"><span class="filename">plugin.py</span><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;^[a-zA-Z]+$&quot;</span><span class="p">)),</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="s2">&quot;Arca&quot;</span><span class="p">),</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;First name&quot;</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
</div>
<h3 id="lists">Lists</h3>
<p>When you want to make a list in Arcaflow, you always need to specify its contents. You can do that like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">my_field</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
<p>Lists can have the following validations:</p>
<ul>
<li><code>schema.min()</code> specifies the minimum number of items in the list.</li>
<li><code>schema.max()</code> specifies the maximum number of items in the list.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Items in lists can also be annotated with validations.</p>
</div>
<h3 id="dicts">Dicts</h3>
<p>Dicts (maps in Arcaflow) are key-value pairs. You need to specify both the key and the value type. You can do that as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">my_field</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
</code></pre></div>
<p>Lists can have the following validations:</p>
<ul>
<li><code>schema.min()</code> specifies the minimum number of items in the list.</li>
<li><code>schema.max()</code> specifies the maximum number of items in the list.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Items in dicts can also be annotated with validations.</p>
</div>
<h3 id="union-types">Union types</h3>
<p>Union types (one-of in Arcaflow) allow you to specify two or more possible objects (dataclasses) that can be in a specific place. The only requirement is that there must be a common field (discriminator) and each dataclass must have a unique value for this field. If you do not add this field to your dataclasses, it will be added automatically for you.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">import</span> <span class="nn">dataclasses</span>


<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">FullName</span><span class="p">:</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">Nickname</span><span class="p">:</span>
    <span class="n">nickname</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span>
    <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span><span class="n">FullName</span><span class="p">,</span> <span class="n">schema</span><span class="o">.</span><span class="n">discriminator_value</span><span class="p">(</span><span class="s2">&quot;full&quot;</span><span class="p">)],</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span><span class="n">Nickname</span><span class="p">,</span> <span class="n">schema</span><span class="o">.</span><span class="n">discriminator_value</span><span class="p">(</span><span class="s2">&quot;nick&quot;</span><span class="p">)]</span>
    <span class="p">],</span> <span class="n">schema</span><span class="o">.</span><span class="n">discriminator</span><span class="p">(</span><span class="s2">&quot;name_type&quot;</span><span class="p">)]</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <code>schema.discriminator</code> and <code>schema.discriminator_value</code> annotations are optional. If you do not specify them, a discriminator will be generated for you.</p>
</div>
<h3 id="any-types">Any types</h3>
<p>Any types allow you to pass through any primitive data (no dataclasses). <strong>However, this comes with severe limitations as far as validation and use in workflows is concerned, so this type should only be used in limited cases.</strong> For example, if you would like to create a plugin that inserts data into an ElasticSearch database the &ldquo;any&rdquo; type would be appropriate here.</p>
<p>You can define an &ldquo;any&rdquo; type like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">my_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span>
</code></pre></div>
<h2 id="units">Units</h2>
<p>Integers and floats can have unit metadata associated with them. For example, a field may contain a unit description like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">time</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">schema</span><span class="o">.</span><span class="n">units</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">UNIT_TIME</span><span class="p">)]</span>
</code></pre></div>
<p>In this case, a string like <code>5m30s</code> will automatically be parsed into nanoseconds. Integers will pass through without conversion. You can also define your own unit types. At minimum, you need to specify the base type (nanoseconds in this case), and you can specify multipliers:</p>
<div class="highlight"><pre><span></span><code><span class="n">my_units</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">Units</span><span class="p">(</span>
  <span class="n">schema</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span>
    <span class="c1"># Short, singular</span>
    <span class="s2">&quot;ns&quot;</span><span class="p">,</span>
    <span class="c1"># Short, plural</span>
    <span class="s2">&quot;ns&quot;</span><span class="p">,</span>
    <span class="c1"># Long, singular</span>
    <span class="s2">&quot;nanosecond&quot;</span><span class="p">,</span>
    <span class="c1"># Long, plural</span>
    <span class="s2">&quot;nanoseconds&quot;</span>
  <span class="p">),</span>
  <span class="p">{</span>
    <span class="mi">1000</span><span class="p">:</span> <span class="n">schema</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span>
      <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
      <span class="s2">&quot;microsecond&quot;</span><span class="p">,</span>
      <span class="s2">&quot;microseconds&quot;</span>
    <span class="p">),</span>
    <span class="c1"># ...</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<p>You can then use this description in your <code>schema.units</code> annotations. Additionally, you can also use it to convert an integer or float into its string representation with the <code>my_units.format_short</code> or <code>my_units.format_long</code> functions. If you need to parse a string yourself, you can use <code>my_units.parse</code>.</p>
<h3 id="built-in-units">Built-In Units</h3>
<p>A number of unit types are built-in to the python SDK for convenience:</p>
<ul>
<li><code>UNIT_BYTE</code> - Bytes and 2^10 multiples (kilo-, mega-, giga-, tera-, peta-)</li>
<li><code>UNIT_TIME</code> - Nanoseconds and human-friendly multiples (microseconds, seconds, minutes, hours, days)</li>
<li><code>UNIT_CHARACTER</code> - Character notations (char, chars, character, characters)</li>
<li><code>UNIT_PERCENT</code> - Percentage notations (%, percent)</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arcalot" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.94c44541.min.js"></script>
      
    
  </body>
</html>